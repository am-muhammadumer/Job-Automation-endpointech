{% extends "base.html" %}

{% block title %}
Dice Dashboard -AutoJobs
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/diceDashboard.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
{% endblock %}

{% block content %}
<div class="outer-container">
    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div>
            {% for category, message in messages %}
                <p class="flash-message {{ category }}">{{ message }}</p>
            {% endfor %}
        </div>
    {% endif %}
    {% endwith %}

    <div class="container" id="add-dice-profile">
        <h1 id="formHeading">Add New Dice</h1>

        <!-- Professional Close Button using Font Awesome -->
        <button class="close-btn" onclick="closeForm()">
            <i class="fas fa-times"></i> <!-- Font Awesome 'X' icon -->
        </button>
        
        <form method="POST" action="{{ url_for('diceDashboard') }}" id="dice-form">
            <label for="fullName">Full Name:</label>
            <input type="text" id="fullName" name="fullName" required>
        
            <label for="jobTitle">Job Title:</label>
            <input type="text" id="jobTitle" name="jobTitle" required>
        
            <label for="diceEmail">Dice Email:</label>
            <input type="email" id="diceEmail" name="diceEmail" required>
        
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
        
            <button type="submit" id="submit-btn">Submit</button>
        </form>
    </div>
</div>


<div class="dashboard">
    <h1>Dice Dashboard</h1>

    <!-- Display all dice entries -->
    <div class="applied-dice">
        {% for dice in dice_entries %}
            <div class="dice-item">
                    <!-- Delete Icon -->
                    <a href="{{ url_for('delete_dice', dice_id=dice.id) }}" class="delete-icon" title="Delete Entry">
                        <i class="fas fa-trash-alt"></i> <!-- Font Awesome Trash Icon -->
                </a>
                <p><strong>{{ dice.fullName }}</strong> - {{ dice.jobTitle }}</p>
                <p>Email: {{ dice.diceEmail }}</p>
                <p>Password: {{ dice.password }}</p>
            </div>
        {% else %}
            <p>No entries found.</p>
        {% endfor %}
    </div>

    <!-- Toggle Button -->
    <a onclick="toggleForm()" class="toggle-form-btn" id="toggle-form-btn">Add New Dice</a>
</div>
<script src="{{ url_for('static', filename='js/diceDashboard.js') }}"></script>
{% endblock %}

